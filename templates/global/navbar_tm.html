{% load static %}

<div class="navbar">
    <div class="logo-container">
        <a href="{% url 'blogs_tm' %}" class="logo-link">
            <img src="{% static 'images/orlan.png' %}" alt="Logo" class="logo">
            <p class="logo-txt">HABAR BLOG</p>
        </a>
    </div>

    <div class="user-icon-container">
    {% if request.user.is_authenticated %}
    <a href="#" class="user-icon-link" id="user-icon-toggle">
        <img src="{{ request.user.profile.profile_image.url }}" alt="User Icon" class="user-icon">
        <span class="dropdown-arrow">▼</span>
    </a>
    <ul class="user-dropdown" id="user-dropdown">
        <li><a href="{% url 'account' %}">Şahsy otag</a></li>
        <li><a href="{% url 'user-favorites-tm' %}">Halanlarym</a></li>
        <li><a href="{% url 'logout' %}">Ulgamdan çykmak</a></li>
    </ul>
    {% else %}
    <a href="{% url 'account' %}" class="user-icon-link">
        <img src="{% static 'images/user-icon.png' %}" alt="User Icon" class="user-icon">
    </a>
    {% endif %}
    </div>

    <div class="navbar-links">
        <div class="language-selector">
            <div class="selected-language">
                {% if current_language == 'ru' %}
                    <img src="{% static 'images/icon-russia.png' %}" alt="Russia Flag">
                    <span>RU</span>
                {% elif current_language == 'tm' %}
                    <img src="{% static 'images/icon-turkmenistan.png' %} " alt="Turkmenistan Flag">
                    <span>TM</span>
                {% else %}
                    <img src="{% static 'images/icon-united-kingdom.png' %}" alt="UK Flag">
                    <span>EN</span>
                {% endif %}
            </div>
            <ul class="language-options">
                <a href="{% url 'blogs' %}">
                    <li data-value="en">
                        <img src="{% static 'images/icon-united-kingdom.png' %}" alt="UK Flag"> EN
                    </li>
                </a>
                <a href='{% url "blogs_tm" %}'>
                    <li data-value="tk">
                        <img src="{% static 'images/icon-turkmenistan.png' %} " alt="Turkmenistan Flag"> TM
                    </li>
                </a>
                <a href="{% url 'blogs_ru' %}">
                    <li data-value="ru">
                        <img src="{% static 'images/icon-russia.png' %}" alt="Russia Flag"> RU
                    </li>
                </a>
            </ul>
        </div>
    </div>
</div>

<script>
    document.getElementById('user-icon-toggle').addEventListener('click', function(e) {
        e.preventDefault(); // Предотвращаем переход по ссылке
        var container = this.parentElement; // Находим .user-icon-container
        container.classList.toggle('active'); // Переключаем класс active
    });
</script>